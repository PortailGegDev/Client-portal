<div class="row" style="margin-bottom: 20px;">
  <div class="col-md-3 mb-3">
    <p-datepicker [(ngModel)]="rangeDates" placeholder="01/01/2024-12/09/2025" [iconDisplay]="'input'" [showIcon]="true"
      inputId="icondisplay" selectionMode="range" [readonlyInput]="true" [style]="{width: '90%'}" />
  </div>

  <div class="col-md-3 mb-3">
    <p-iconfield>
      <p-inputicon styleClass="pi pi-search" />
      <input pInputText type="text" (input)="filterGlobal($event)" placeholder="Rechercher" style="width: 90%;" />
    </p-iconfield>
  </div>

  <div class="col-md-3 mb-3">
    <p-message severity="info" styleClass="h-full">
      <div class="outer-circle">
        <div class="inner-circle"></div>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" class="icon-svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M8 2H6C3.79086 2 2 3.79086 2 6V9C2 11.2091 3.79086 13 6 13H8C10.2091 13 12 11.2091 12 9V6C12 3.79086 10.2091 2 8 2ZM6 3.5H8C9.38071 3.5 10.5 4.61929 10.5 6V9C10.5 10.3807 9.38071 11.5 8 11.5H6C4.61929 11.5 3.5 10.3807 3.5 9V6C3.5 4.61929 4.61929 3.5 6 3.5Z"
            fill="#363538" />
          <path
            d="M17.75 3C17.75 2.58579 17.4142 2.25 17 2.25C16.5858 2.25 16.25 2.58579 16.25 3V5.25H14C13.5858 5.25 13.25 5.58579 13.25 6C13.25 6.41421 13.5858 6.75 14 6.75H16.25V9C16.25 9.41421 16.5858 9.75 17 9.75C17.4142 9.75 17.75 9.41421 17.75 9V6.75H20C20.4142 6.75 20.75 6.41421 20.75 6C20.75 5.58579 20.4142 5.25 20 5.25H17.75V3Z"
            fill="#363538" />
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M16 11H18C20.2091 11 22 12.7909 22 15V18C22 20.2091 20.2091 22 18 22H16C13.7909 22 12 20.2091 12 18V15C12 12.7909 13.7909 11 16 11ZM16 12.5C14.6193 12.5 13.5 13.6193 13.5 15V18C13.5 19.3807 14.6193 20.5 16 20.5H18C19.3807 20.5 20.5 19.3807 20.5 18V15C20.5 13.6193 19.3807 12.5 18 12.5H16Z"
            fill="#363538" />
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M7.85789 14.9779C7.30001 14.0171 5.87034 14.0066 5.2939 14.9517L2.45448 19.6071C1.82146 20.645 2.69505 21.75 3.7287 21.75H9.27135C10.2932 21.75 11.1634 20.6704 10.5611 19.6333L7.85789 14.9779ZM3.81938 20.25L6.5639 15.7501L6.56848 15.75L6.57179 15.7501L9.18469 20.25H3.81938Z"
            fill="#363538" />
        </svg>
      </div>
      <span (click)="showDialog()">Estimer prochaine facture</span>
    </p-message>
  </div>

  <div class="col-md-3 mb-3">
    <p-message severity="info" styleClass="h-full">
      <div style="display: flex; align-items: center;">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          style="vertical-align: middle; margin-right: 8px;">
          <circle cx="16.5" cy="16.5" r="7.5" fill="#E2F133" />
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M2 3.5H22C22.2761 3.5 22.5 3.72386 22.5 4V14C22.5 14.2761 22.2761 14.5 22 14.5H2C1.72386 14.5 1.5 14.2761 1.5 14V4C1.5 3.72386 1.72386 3.5 2 3.5ZM0 4C0 2.89543 0.895431 2 2 2H22C23.1046 2 24 2.89543 24 4V14C24 15.1046 23.1046 16 22 16H2C0.89543 16 0 15.1046 0 14V4ZM5.07698 6.68193H10.3077C10.5839 6.68193 10.8077 6.90579 10.8077 7.18193V7.63647C10.8077 7.91262 10.5839 8.13647 10.3077 8.13647H5.07698C4.80083 8.13647 4.57698 7.91262 4.57698 7.63647V7.18193C4.57698 6.90579 4.80083 6.68193 5.07698 6.68193ZM3.07698 7.18193C3.07698 6.07736 3.97241 5.18193 5.07698 5.18193H10.3077C11.4123 5.18193 12.3077 6.07736 12.3077 7.18193V7.63647C12.3077 8.74104 11.4123 9.63647 10.3077 9.63647H5.07698C3.97241 9.63647 3.07698 8.74104 3.07698 7.63647V7.18193ZM14.0192 5.81807C14.0192 5.40386 14.355 5.06807 14.7692 5.06807H20.3077C20.7219 5.06807 21.0577 5.40386 21.0577 5.81807C21.0577 6.23229 20.7219 6.56807 20.3077 6.56807H14.7692C14.355 6.56807 14.0192 6.23229 14.0192 5.81807ZM14.7692 8.82543C14.355 8.82543 14.0192 9.16121 14.0192 9.57543C14.0192 9.98964 14.355 10.3254 14.7692 10.3254H20.3077C20.7219 10.3254 21.0577 9.98964 21.0577 9.57543C21.0577 9.16121 20.7219 8.82543 20.3077 8.82543H14.7692Z"
            fill="#1E1E1E" />
        </svg>
        <span (click)="showDialog1()">Voir le détail du chèque énergie</span>
        <p-dialog header="Vous bénéficiez d’un chèque énérgie " [(visible)]="visible1" [modal]="true"
          [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '80vw !important' }" [draggable]="false"
          [resizable]="false">
          <p>
            Ci-dessous les informations liées à votre chèque énergie
          </p>
          <h6 style="text-align: start;">6 paiements réglés avec votre chèque énergie</h6>
          <p-table #dt [value]="invoices" [rows]="5" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template #body let-invoice>
              <tr>
                <td>{{ invoice.PostingDate | timeSpanToDate:'short'}}</td>
                <td><svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                    <path
                      d="M11.3333 9.0655H14V13.0655C14 13.8019 13.403 14.3988 12.6667 14.3988M11.3333 9.0655V13.0655C11.3333 13.8019 11.9303 14.3988 12.6667 14.3988M11.3333 9.0655V4.23689C11.3333 3.6333 11.3333 3.3315 11.2065 3.15648C11.0959 3.00381 10.9258 2.90512 10.7384 2.88482C10.5236 2.86156 10.2615 3.0113 9.73745 3.31077L9.52922 3.42976C9.33632 3.53998 9.23987 3.5951 9.13745 3.61668C9.04681 3.63577 8.95319 3.63577 8.86255 3.61668C8.76013 3.5951 8.66367 3.53998 8.47079 3.42976L7.19588 2.70124C7.00299 2.59102 6.90654 2.5359 6.80411 2.51432C6.71348 2.49523 6.61986 2.49523 6.52922 2.51432C6.42679 2.5359 6.33035 2.59102 6.13745 2.70124L4.86255 3.42976C4.66965 3.53998 4.57321 3.5951 4.47078 3.61668C4.38014 3.63577 4.28652 3.63577 4.19589 3.61668C4.09346 3.5951 3.99701 3.53998 3.80412 3.42976L3.59588 3.31076C3.07181 3.0113 2.80978 2.86156 2.59491 2.88482C2.40748 2.90512 2.23741 3.00381 2.1268 3.15648C2 3.3315 2 3.6333 2 4.23689V11.1988C2 12.3189 2 12.879 2.21799 13.3068C2.40973 13.6831 2.71569 13.9891 3.09202 14.1808C3.51984 14.3988 4.0799 14.3988 5.2 14.3988H12.6667M4.66667 9.0655H7.33333M4.66667 6.39883H6.66667H8.66667"
                      stroke="#544E4E" stroke-linecap="round" stroke-linejoin="round" />
                  </svg> {{ invoice.UtilitiesInvoicingDocument }}
                </td>
                <td>{{ invoice.TotalAmountHT}}€ </td>
                <td>
                  <p-button icon="pi pi-download" [text]="true" />
                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-dialog>
      </div>
    </p-message>
  </div>

  @if(visible){
  <p-dialog header="Estimer prochaine facture" [(visible)]="visible" [modal]="true"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '50vw' }" [draggable]="false"
    [resizable]="false">
    <app-invoices-estimate-dialog />
  </p-dialog>
  }